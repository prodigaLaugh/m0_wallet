webpackJsonp([3],{CMxl:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=t("sZUK"),i=t("7+uW"),n=t("zL8q");i.default.use(n.Row),i.default.use(n.Col),i.default.use(n.Radio),i.default.use(n.Input),i.default.use(n.Option),i.default.use(n.Select),i.default.use(n.Button);var c={created:function(){var e=this.getLocalAccountInfo(),a=e.account_id,t=e.account_type,s=localStorage.USERTOKEN;this.params.account_id=a,this.params.account_type=t,this.params.user_name=s},data:function(){return{submitFlag:!0,params:{myfile:"",password:"",evidence_name:"",user_name:"",associate_evidence:"",evidence_data:"",evidence_describe:""},fileName:"",file:"",dialogVisible:!1}},methods:{bindClick:function(){this.$refs.file.click()},save:function(){var e=this;if(this.params.evidence_name){var a=this.params,t=new FormData;if(t.append("myfile",this.file),t.append("account_id",a.account_id),t.append("account_type",a.account_id),t.append("user_name",a.user_name),t.append("password",a.password),t.append("evidence_name",a.evidence_name),t.append("evidence_describe",a.evidence_describe),t.append("evidence_data",a.evidence_data),!this.submitFlag)return!1;this.submitFlag=!1,s.Q.bind(this)(t).then(function(a){var t=a.data;if("success"==t.status)e.$message({message:"上传成功",type:"success"}),setTimeout(function(){e.$router.go(-1)},1500);else{var s=t.error;e.$message({message:s,type:"error"})}e.submitFlag=!0,console.log(t,1111)})}else this.$message({message:"存证名称不可为空",type:"error"})},fileSelect:function(e){var a=e.target,t=a.files[0];this.fileName=a.value,this.file=t}},watch:{file:{handler:function(e,a){},deep:!0}}},l={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"outerWrap uploadDepositWrap"},[t("div",{staticClass:"commonTitle_one"},[t("span",{on:{click:function(a){return e.$router.go(-1)}}},[e._v("可信存证")]),e._v("/上传存证\n     \n    ")]),e._v(" "),t("div",{staticClass:"transferInpWrap"},[t("div",{staticClass:"inpItemWrap"},[t("div",[t("span",[e._v("存证名称")]),e._v(" "),t("el-input",{attrs:{autocomplete:"off",maxlength:"50",placeholder:"请输入上传存证的名称"},model:{value:e.params.evidence_name,callback:function(a){e.$set(e.params,"evidence_name",a)},expression:"params.evidence_name"}})],1)]),e._v(" "),t("div",{staticClass:"inpItemWrap"},[t("div",[t("span",[e._v("存证文件")]),e._v(" "),t("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:e.fileSelect}}),e._v(" "),e.fileName?t("span",{staticClass:"uploadFileBtn",on:{click:e.bindClick}},[e._v(e._s(e.fileName))]):t("span",{staticClass:"uploadFileBtn",on:{click:e.bindClick}},[e._v("+选择上传文件")])])]),e._v(" "),t("div",{staticClass:"inpItemWrap textarea"},[t("div",[t("span",[e._v("存证数据")]),e._v(" "),t("el-input",{attrs:{autocomplete:"off",rows:5,type:"textarea",placeholder:"请输入上传存证的名称"},model:{value:e.params.evidence_data,callback:function(a){e.$set(e.params,"evidence_data",a)},expression:"params.evidence_data"}})],1)]),e._v(" "),t("div",{staticClass:"inpItemWrap textarea"},[t("div",[t("span",[e._v("备注信息")]),e._v(" "),t("el-input",{attrs:{type:"textarea",maxlength:"150",rows:5,placeholder:""},model:{value:e.params.evidence_describe,callback:function(a){e.$set(e.params,"evidence_describe",a)},expression:"params.evidence_describe"}})],1)]),e._v(" "),t("div",{staticClass:"inpItemWrap"},[t("div",[t("span",[e._v("密码")]),e._v(" "),t("el-input",{attrs:{type:"password",autocomplete:"new-password",placeholder:""},model:{value:e.params.password,callback:function(a){e.$set(e.params,"password",a)},expression:"params.password"}})],1)]),e._v(" "),t("div",{staticClass:"inpItemWrap"},[t("div",[t("span"),e._v(" "),t("span",{staticClass:"submit",on:{click:e.save}},[e._v("提交上链")])])])]),e._v(" "),t("el-dialog",{attrs:{title:"文件校验",visible:e.dialogVisible,center:!0,width:"40%"},on:{"update:visible":function(a){e.dialogVisible=a}}},[t("div",{staticStyle:{"text-align":"center","line-height":"24px","font-size":"16px","font-weight":"500"}},[t("div",{staticStyle:{color:"red","font-size":"60px"}},[t("span",{staticClass:"el-icon-warning"})]),e._v(" "),t("p",{staticStyle:{"padding-top":"10px"}},[e._v("需至少上传一种存证信息")]),e._v(" "),t("p",[e._v("请填写存证数据或上传存证文件")])]),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:function(a){e.dialogVisible=!1}}},[e._v("确 认")])],1)])],1)},staticRenderFns:[]};var r=t("VU/8")(c,l,!1,function(e){t("pUta")},"data-v-ead083fa",null);a.default=r.exports},pUta:function(e,a){}});
//# sourceMappingURL=3.11c4789d4fefa04cc57c.js.map