webpackJsonp([21],{gsjN:function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=s("woOf"),r=s.n(t),n=s("sZUK"),i=s("7+uW"),l=s("zL8q");i.default.use(l.Row),i.default.use(l.Col),i.default.use(l.Input);var c={created:function(){},data:function(){return{submitFlag:!0,param:{asset_name:"",parameters:[{key:"",value:""}]}}},methods:{delPara:function(e){console.log(e,111),e>0&&this.param.parameters.splice(e,1)},addPara:function(){this.param.parameters.push({key:"",value:""})},save:function(){var e=this,a=/^[\u4e00-\u9fa5]+/;if(this.param.asset_name)if(a.test(this.param.asset_name))this.$message({message:"资产名称不支持中文",type:"error"});else if(this.param.parameters.some(function(e){return a.test(e.key)||a.test(e.value)}))this.$message({message:"资产参数不支持中文",type:"error"});else{var s=this.getLocalAccountInfo(),t=r()({},s,this.param);if(!this.submitFlag)return!1;this.submitFlag=!1,n.b.bind(this)(t).then(function(a){var s=a.data;if("success"===s.status)e.$message({message:"创建成功",type:"success"}),e.param={asset_name:"",account_id:"0R031M6800A02",account_type:1,parameters:[{key:"",value:""}]},e.$router.go(-1);else{var t=s.error||"创建失败";e.$message({message:t,type:"error"})}e.submitFlag=!0,console.log(s,111)}).catch(function(a){e.submitFlag=!0,console.log(a)})}else this.$message({message:"请输入资产名称",type:"error"})}}},u={render:function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{staticClass:"outerWrap createAssetWrap"},[s("div",{staticClass:"commonTitle_one"},[s("span",{on:{click:function(a){return e.$router.go(-1)}}},[e._v("创建资产")]),e._v("/创建资产\n      ")]),e._v(" "),s("div",{staticClass:"transferInpWrap"},[s("div",{staticClass:"inpItemWrap"},[s("div",[s("span",[e._v("名称")]),e._v(" "),s("el-input",{attrs:{placeholder:""},model:{value:e.param.asset_name,callback:function(a){e.$set(e.param,"asset_name",a)},expression:"param.asset_name"}})],1)]),e._v(" "),s("div",{staticClass:"inpTitl"},[e._v("资产参数")]),e._v(" "),s("div",{staticClass:"transferInfoWrap"},[e._l(e.param.parameters,function(a,t){return s("div",{key:t,staticClass:"inpItemWrap"},[s("div",[s("span",[e._v("参数名")]),e._v(" "),s("el-input",{attrs:{placeholder:""},model:{value:a.key,callback:function(s){e.$set(a,"key",s)},expression:"item.key"}})],1),e._v(" "),s("div",[s("span",[e._v("参数值")]),e._v(" "),s("el-input",{attrs:{placeholder:""},model:{value:a.value,callback:function(s){e.$set(a,"value",s)},expression:"item.value"}})],1),e._v(" "),s("span",{on:{click:function(a){return e.delPara(t)}}},[e._v("删除")])])}),e._v(" "),s("div",{staticClass:"inpItemWrap btnWrap"},[s("div",[s("span"),e._v(" "),s("span",{staticClass:"btn",on:{click:e.addPara}},[e._v("+ 添加资产参数")])])])],2),e._v(" "),s("div",{staticClass:"inpItemWrap"},[s("div",[s("span"),e._v(" "),s("span",{staticClass:"submit",on:{click:e.save}},[e._v("保存")])])])])])},staticRenderFns:[]},o=s("VU/8")(c,u,!1,null,null,null);a.default=o.exports}});
//# sourceMappingURL=21.93ff9eb74e45b353766f.js.map