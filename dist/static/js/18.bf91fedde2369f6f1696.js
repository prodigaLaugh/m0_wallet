webpackJsonp([18],{H6By:function(s,t){},"Pz+3":function(s,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=a("Gu7T"),n=a.n(e),i=a("Dd8w"),l=a.n(i),o=a("sZUK"),r=a("7+uW"),c=a("zL8q");r.default.use(c.Row),r.default.use(c.Col),r.default.use(c.Option),r.default.use(c.Select),r.default.use(c.Pagination);var d={created:function(){var s=this.getLocalAccountInfo(),t=s.account_id;s.account_type;this.navIndex=this.$route.query.navIndex?this.$route.query.navIndex-0:0,this.params.account_id=t,this.getLists(),this.getAlllists()},data:function(){return{allAssetsLists:[],navIndex:0,params:{page:1,page_size:10,total:1,account_id:"",asset_name:"",asset_id:"",order_by:"time_desc"},orderOptions:[{value:"time_desc",label:"按时间排序（新到旧）"},{value:"time_asc",label:"按时间排序（旧到新）"},{value:"amount_desc",label:"按金额排序（大到小）"},{value:"amount_asc",label:"按金额排序（小到大）"}],lists:[],loading:!1,noMoreData:!1}},mounted:function(){var s=this;window.onscroll=function(){(document.documentElement.scrollTop||document.body.scrollTop)+(document.documentElement.clientHeight||document.body.clientHeight)==(document.documentElement.scrollHeight||document.body.scrollHeight)-50&&(s.noMoreData||s.getMoreLists())}},destroyed:function(){window.onscroll=null},methods:{selectChange:function(){this.params.page=1,this.noMoreData=!1,this.getLists()},toggleNav:function(s){this.navIndex=s,this.params.page=1,this.noMoreData=!1,this.$router.replace({path:"/main/assetWalletIndex",query:{navIndex:s}}),this.getLists(),this.getAlllists()},getMoreLists:function(){this.loading=!0,this.getLists()},getTransferParams:function(s,t){var a={address_id:t,amount:s.amount,asset_id:s.asset_id,asset_name:s.asset_name};this.$router.push({path:"/main/transfer",query:a})},getParams:function(s,t,a){return{asset_name:s.asset_name,asset_id:s.asset_id,type:a,address_id:t}},getAlllists:function(){var s=this,t=0===this.navIndex?o.u:o.n,a=l()({},this.params,{page:1,page_size:9999});t.bind(this)(a).then(function(t){var a,e=t.data,i=e.data,l=i.list_asset;i.total_item;"success"==e.status&&(l?(a=s.allAssetsLists).splice.apply(a,[0,999,{asset_id:"",asset_name:"全部"}].concat(n()(l))):s.allAssetsLists.splice(0,999,{asset_id:"",asset_name:"全部"}))})},getLists:function(){var s=this,t=0===this.navIndex?o.u:o.n;this.noMoreData||(this.noMoreData=!0,t.bind(this)(this.params).then(function(t){var a=t.data,e=a.data,i=e.list_asset,l=e.total_item;if("success"==a.status){if(i){var o,r;if(1===s.params.page)(o=s.lists).splice.apply(o,[0,999].concat(n()(i)));else(r=s.lists).push.apply(r,n()(i));s.noMoreData=!1}else 1===s.params.page&&s.lists.splice(0,999),s.noMoreData=!0;s.params.page++,s.params.total=l,s.loading=!1}}))}}},u={render:function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"outerWrap assetWalletIndexWrap"},[a("div",{staticClass:"commonTitle_one"},[s._v("资产钱包")]),s._v(" "),a("div",{staticClass:"addAccountWrap"},[a("div",{staticClass:"commonNavsWrap"},[a("span",{class:0===s.navIndex?"active":"",on:{click:function(t){return s.toggleNav(0)}}},[s._v("我的资产")]),s._v(" "),a("span",{class:1===s.navIndex?"active":"",on:{click:function(t){return s.toggleNav(1)}}},[s._v("历史资产")])]),s._v(" "),a("div",{staticClass:"filterWrap"},[a("div",[0===s.navIndex?a("div",{staticClass:"assetSelectItemWrap"},[a("span",[s._v("排序方式")]),s._v(" "),a("el-select",{attrs:{placeholder:"请选择"},on:{change:s.selectChange},model:{value:s.params.order_by,callback:function(t){s.$set(s.params,"order_by",t)},expression:"params.order_by"}},s._l(s.orderOptions,function(s){return a("el-option",{key:s.value,attrs:{label:s.label,value:s.value}})}),1)],1):s._e(),s._v(" "),a("div",{staticClass:"assetSelectItemWrap"},[a("span",[s._v("资产类型")]),s._v(" "),a("el-select",{attrs:{placeholder:"请选择"},on:{change:s.selectChange},model:{value:s.params.asset_id,callback:function(t){s.$set(s.params,"asset_id",t)},expression:"params.asset_id"}},s._l(s.allAssetsLists,function(s){return a("el-option",{key:s.value,attrs:{label:s.asset_name,value:s.asset_id}})}),1)],1)]),s._v(" "),a("span",{on:{click:function(t){return s.$router.push("/main/receiveTransfer")}}},[s._v("接受转账")])]),s._v(" "),a("div",[a("div",{staticClass:"commonListsWrap"},s._l(s.lists,function(t,e){return a("div",{key:e,staticClass:"commonListWrap"},[a("div",{staticClass:"tit"},[s._v(s._s(t.asset_name))]),s._v(" "),a("div",{staticClass:"infoWrap"},[a("div",[a("span",[s._v("资产ID:")]),s._v(" "),a("span",[s._v(s._s(t.asset_id))])]),s._v(" "),a("div",{staticClass:"money"},[a("span",[s._v("当前总余额:")]),s._v(" "),a("span",[s._v(s._s(t.amount))])]),s._v(" "),a("div",[a("a",{staticClass:"transactionRecordIcon",attrs:{href:"javascript:void(0)"},on:{click:function(a){s.$router.push({path:"/main/transactionRecord",query:s.getParams(t,"","tx")})}}},[s._v("交易记录")])])]),s._v(" "),a("div",{staticClass:"lists"},[t.address_balance&&t.address_balance.length?a("div",{staticClass:"list title"},[a("span",[s._v("所在地址")]),s._v(" "),a("span",[s._v("地址余额")]),s._v(" "),a("span",{staticClass:"last"},[s._v("操作")])]):a("div",{staticClass:"list title"}),s._v(" "),s._l(t.address_balance,function(e,n){return a("div",{key:n,staticClass:"list"},[a("span",[s._v(" "+s._s(e.address_id))]),s._v(" "),a("span",[s._v(" "+s._s(e.balance))]),s._v(" "),a("div",{staticClass:"last"},[a("span",{on:{click:function(a){s.$router.push({path:"/main/transactionRecord",query:s.getParams(t,e.address_id,"address")})}}},[s._v("交易记录")]),s._v(" "),a("span",{on:{click:function(a){return s.getTransferParams(t,e.address_id)}}},[s._v("转出资产")])])])})],2)])}),0),s._v(" "),s.loading?a("p",{staticClass:"noresult"},[s._v("加载中...")]):s.lists.length?a("p",{staticClass:"noresult"},[s._v("没有更多了")]):a("div",{staticClass:"noresult"},[s._v("暂无数据")])])])])},staticRenderFns:[]};var v=a("VU/8")(d,u,!1,function(s){a("H6By")},null,null);t.default=v.exports}});
//# sourceMappingURL=18.bf91fedde2369f6f1696.js.map