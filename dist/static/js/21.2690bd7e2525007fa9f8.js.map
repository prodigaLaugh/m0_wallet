{"version":3,"sources":["webpack:///src/pages/createAsset/createAsset.vue","webpack:///./src/pages/createAsset/createAsset.vue?dc6b","webpack:///./src/pages/createAsset/createAsset.vue"],"names":["vue_esm","use","element_ui_common","createAsset","created","data","submitFlag","param","asset_name","parameters","key","value","methods","delPara","index","console","log","this","splice","addPara","push","save","_this","test","chineseReg","some","item","$message","message","type","accountInfo","getLocalAccountInfo","assign_default","server","bind","then","_ref","status","account_id","account_type","$router","go","msg","error","catch","createAsset_createAsset","render","_vm","_h","$createElement","_c","_self","staticClass","on","click","$event","_v","attrs","placeholder","model","callback","$$v","$set","expression","_l","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/21.2690bd7e2525007fa9f8.js","sourcesContent":["<template>\n\t<div class=\"outerWrap createAssetWrap\">\n\n    <div class=\"commonTitle_one\">\n      <span @click=\"$router.go(-1)\">创建资产</span>/创建资产\n    </div>\n\n\n    <div class=\"transferInpWrap\">\n\n      <div class=\"inpItemWrap\">\n        <div>\n          <span>名称</span>\n          <el-input v-model=\"param.asset_name\" placeholder=\"资产名称格式为字母\"></el-input>\n        </div>\n      </div>\n\n\n\n      <div class=\"inpTitl\">资产参数</div>\n\n      <div class=\"transferInfoWrap\">\n\n        <div\n          class=\"inpItemWrap\"\n          v-for=\"(item, index) in param.parameters\"\n      \t\t:key=\"index\"\n        >\n          <div>\n            <span>参数名</span>\n           <el-input v-model=\"item.key\" placeholder=\"\"></el-input>\n          </div>\n          <div>\n            <span>参数值</span>\n            <el-input v-model=\"item.value\" placeholder=\"\"></el-input>\n          </div>\n          <span @click=\"delPara(index)\">删除</span>\n        </div>\n\n\n        <div class=\"inpItemWrap btnWrap\">\n          <div>\n            <span></span>\n            <span class=\"btn\"  @click=\"addPara\">+ 添加资产参数</span>\n          </div>\n        </div>\n\n\n\n\n       </div>\n\n       <div class=\"inpItemWrap\">\n         <div>\n           <span></span>\n            <span class=\"submit\" @click=\"save\">保存</span>\n         </div>\n\n       </div>\n\n    </div>\n\n\n\n\n\n\n\t</div>\n</template>\n\n<script>\n\timport { createAsset } from '@/util/server.js'\n\n\timport Vue from 'vue';\n\timport { Row, Col, Input } from 'element-ui';\n\n\tVue.use(Row);\n\tVue.use(Col);\n\tVue.use(Input);\n\n\n\n\texport default {\n\t\tcreated(){\n\n\n\t\t},\n\t\tdata(){\n\t\t\treturn {\n\t\t\t\tsubmitFlag:true,\n\t\t\t\tparam:{\n\t\t\t\t\tasset_name:'',\n\t\t\t\t\tparameters:[{key:'',value:''}]\n\t\t\t\t},\n\n\t\t\t}\n\t\t},\n\t\tmethods:{\n\t\t\tdelPara(index){\n\t\t\t\tconsole.log(index,111)\n\t\t\t\tif(index>0){\n\t\t\t\t\tthis.param.parameters.splice(index, 1);\n\t\t\t\t}\n\t\t\t},\n\t\t\taddPara(){\n\t\t\t\tthis.param.parameters.push({key:'', value:''})\n\t\t\t},\n\t\t\tsave(){\n        var reg = /^[a-zA-Z]+/\n\n\t\t\t\tif(!this.param.asset_name){\n\t\t\t\t\tthis.$message ({\n\t\t\t\t\t\tmessage: '请输入资产名称',\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}else if(!reg.test(this.param.asset_name)){\n          this.$message ({\n          \tmessage: '请输入正确格式的名称',\n          \ttype: 'error'\n          });\n          return;\n        }\n        \n        var chineseReg = /^[\\u4e00-\\u9fa5]+/;\n\n        var flag = this.param.parameters.some((item)=>{\n          return chineseReg.test(item.key) || chineseReg.test(item.value)\n        })\n\n        if(flag){\n          this.$message ({\n          \tmessage: '资产参数不支持中文',\n          \ttype: 'error'\n          });\n          return;\n        }\n\n\n\n\n// \t\t\t\tvar flag = false;\n// \t\t\t\tflag = this.param.parameters.some((item,index)=>{\n// \t\t\t\t\treturn !item.key||!item.value\n// \t\t\t\t})\n// \t\t\t\tif(flag){\n// \t\t\t\t\tthis.$message ({\n// \t\t\t\t\t\tmessage: '请完善资产参数',\n// \t\t\t\t\t\ttype: 'warning'\n// \t\t\t\t\t});\n// \t\t\t\t\treturn false;\n// \t\t\t\t}\n\t\t\t\tlet accountInfo = this.getLocalAccountInfo();\n\t\t\t\tlet param = Object.assign({},accountInfo,this.param) ;\n\t\t\t\tif(!this.submitFlag){\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tthis.submitFlag = false;\n\n\t\t\t\tcreateAsset.bind(this)(param)\n\t\t\t\t\t.then(({data})=>{\n\t\t\t\t\t\tif(data.status === 'success' ){\n\t\t\t\t\t\t\tthis.$message ({\n\t\t\t\t\t\t\t\tmessage: '创建成功',\n\t\t\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthis.param = {\n\t\t\t\t\t\t\t\tasset_name:'',\n\t\t\t\t\t\t\t\t\"account_id\":\"0R031M6800A02\",\n\t\t\t\t\t\t\t\t\"account_type\":1,\n\t\t\t\t\t\t\t\tparameters:[{key:'',value:''}]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.$router.go(-1);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tvar msg = data.error || '创建失败'\n\t\t\t\t\t\t\tthis.$message ({\n\t\t\t\t\t\t\t\tmessage: msg,\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.submitFlag = true;\n\t\t\t\t\t\tconsole.log(data,111)\n\t\t\t\t\t})\n\t\t\t\t\t.catch((data)=>{\n\t\t\t\t\t\tthis.submitFlag = true;\n\t\t\t\t\t\tconsole.log(data)\n\t\t\t\t\t})\n\t\t\t}\n\t\t},\n\t}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/createAsset/createAsset.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"outerWrap createAssetWrap\"},[_c('div',{staticClass:\"commonTitle_one\"},[_c('span',{on:{\"click\":function($event){return _vm.$router.go(-1)}}},[_vm._v(\"创建资产\")]),_vm._v(\"/创建资产\\n    \")]),_vm._v(\" \"),_c('div',{staticClass:\"transferInpWrap\"},[_c('div',{staticClass:\"inpItemWrap\"},[_c('div',[_c('span',[_vm._v(\"名称\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"placeholder\":\"资产名称格式为字母\"},model:{value:(_vm.param.asset_name),callback:function ($$v) {_vm.$set(_vm.param, \"asset_name\", $$v)},expression:\"param.asset_name\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"inpTitl\"},[_vm._v(\"资产参数\")]),_vm._v(\" \"),_c('div',{staticClass:\"transferInfoWrap\"},[_vm._l((_vm.param.parameters),function(item,index){return _c('div',{key:index,staticClass:\"inpItemWrap\"},[_c('div',[_c('span',[_vm._v(\"参数名\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"placeholder\":\"\"},model:{value:(item.key),callback:function ($$v) {_vm.$set(item, \"key\", $$v)},expression:\"item.key\"}})],1),_vm._v(\" \"),_c('div',[_c('span',[_vm._v(\"参数值\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"placeholder\":\"\"},model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}})],1),_vm._v(\" \"),_c('span',{on:{\"click\":function($event){return _vm.delPara(index)}}},[_vm._v(\"删除\")])])}),_vm._v(\" \"),_c('div',{staticClass:\"inpItemWrap btnWrap\"},[_c('div',[_c('span'),_vm._v(\" \"),_c('span',{staticClass:\"btn\",on:{\"click\":_vm.addPara}},[_vm._v(\"+ 添加资产参数\")])])])],2),_vm._v(\" \"),_c('div',{staticClass:\"inpItemWrap\"},[_c('div',[_c('span'),_vm._v(\" \"),_c('span',{staticClass:\"submit\",on:{\"click\":_vm.save}},[_vm._v(\"保存\")])])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2e58a528\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/createAsset/createAsset.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./createAsset.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./createAsset.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2e58a528\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./createAsset.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/createAsset/createAsset.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}