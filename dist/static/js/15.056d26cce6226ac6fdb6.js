webpackJsonp([15],{"1DyA":function(e,s){},ZUxq:function(e,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=a("mtWM"),t=a.n(i),o=a("56fK"),n=a("7+uW"),l=a("zL8q");n.default.use(l.Input),n.default.use(l.Checkbox);var r={components:{SIdentify:o.a},data:()=>({identifyCodes:"1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ",identifyCode:"",verifycode:"",autoLogin:!1,loginFlag:!0,loginParams:{invite_code:"",password:"",againPassword:"",user_name:""}}),mounted(){this.identifyCode="",this.makeCode(this.identifyCodes,4)},methods:{login(){let e=`${BASEURL1}/v1/user/register_user`,s=Object.assign({},this.loginParams);return this.loginParams.user_name&&this.loginParams.password&&this.loginParams.againPassword&&this.loginParams.invite_code&&this.verifycode?this.verifycode.password!=this.verifycode.againPassword?(this.$message({message:"两次密码不一致",type:"warning"}),!1):this.verifycode.toLocaleLowerCase()!==this.identifyCode.toLocaleLowerCase()?(this.$message({message:"验证码不正确",type:"warning"}),!1):!!this.loginFlag&&(this.loginFlag=!1,void t.a.post(e,s).then(({data:e})=>{if("success"==e.status)this.$message({message:"注册成功",type:"success"}),setTimeout(()=>{this.$router.push("/login"),this.loginFlag=!0},1500);else{var s=e.detail;this.$message({message:s,type:"warning"})}this.loginFlag=!0}).catch(({data:e})=>{console.log(e),this.loginFlag=!0})):(this.$message({message:"请完善信息",type:"warning"}),!1)},randomNum:(e,s)=>Math.floor(Math.random()*(s-e)+e),refreshCode(){this.identifyCode="",this.makeCode(this.identifyCodes,4)},makeCode(e,s){for(let e=0;e<s;e++)this.identifyCode+=this.identifyCodes[this.randomNum(0,this.identifyCodes.length)]}}},d={render:function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("div",{staticClass:"loginWrap"},[a("div",{staticClass:"loginContainer"},[a("div",{staticClass:"loginTitle"},[e._v("M0资产存证管理平台")]),e._v(" "),a("div",{staticClass:"loginDescription"},[e._v("注册/sign up")]),e._v(" "),a("div",{staticClass:"loginInpWrap"},[a("span",[e._v("用户名")]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入用户名",autocomplete:"off"},model:{value:e.loginParams.user_name,callback:function(s){e.$set(e.loginParams,"user_name",s)},expression:"loginParams.user_name"}})],1),e._v(" "),a("div",{staticClass:"loginInpWrap"},[a("span",[e._v("密码")]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入密码",type:"password",autocomplete:"new-password"},model:{value:e.loginParams.password,callback:function(s){e.$set(e.loginParams,"password",s)},expression:"loginParams.password"}})],1),e._v(" "),a("div",{staticClass:"loginInpWrap"},[a("span",[e._v("确认密码")]),e._v(" "),a("el-input",{attrs:{placeholder:"请再次输入密码",type:"password",autocomplete:"new-password"},model:{value:e.loginParams.againPassword,callback:function(s){e.$set(e.loginParams,"againPassword",s)},expression:"loginParams.againPassword"}})],1),e._v(" "),a("div",{staticClass:"loginInpWrap"},[a("span",[e._v("邀请码")]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入邀请码(必填)"},model:{value:e.loginParams.invite_code,callback:function(s){e.$set(e.loginParams,"invite_code",s)},expression:"loginParams.invite_code"}})],1),e._v(" "),a("div",{staticClass:"loginInpWrap"},[a("span",[e._v("校验码")]),e._v(" "),a("div",[a("el-input",{attrs:{placeholder:"请输入右侧的验证码",type:"text"},model:{value:e.verifycode,callback:function(s){e.verifycode=s},expression:"verifycode"}}),e._v(" "),a("div",{on:{click:e.refreshCode}},[a("s-identify",{attrs:{identifyCode:e.identifyCode}})],1)],1)]),e._v(" "),a("div",{staticClass:"loginBtnWrap"},[a("div",{on:{click:function(s){return e.$router.push("/login")}}},[e._v("去登录")]),e._v(" "),a("div",{on:{click:e.login}},[e._v("注册")])])])])},staticRenderFns:[]};var c=a("VU/8")(r,d,!1,function(e){a("1DyA")},"data-v-563a435f",null);s.default=c.exports}});
//# sourceMappingURL=15.056d26cce6226ac6fdb6.js.map