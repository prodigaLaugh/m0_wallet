webpackJsonp([30],{bfQr:function(s,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=e("woOf"),i=e.n(a),n=e("Gu7T"),r=e.n(n),o=e("sZUK"),l=e("7+uW"),d=e("zL8q");l.default.use(d.Row),l.default.use(d.Col),l.default.use(d.Input),l.default.use(d.Option),l.default.use(d.Select);var c={created:function(){var s=this;this.isSingleSign=this.judgeIsSingleSign();var t=this.$route.query,e=t.asset_id,a=t.address_id;e&&(this.params.asset_id=e),a&&(this.to_address=a);var i=this.getLocalAccountInfo().account_id;o.y.bind(this)({account_id:i}).then(function(t){var e,a=t.data.data.asset_list;a?(e=s.allAssetsLists).splice.apply(e,[0,9999].concat(r()(a))):s.allAssetsLists.splice(0,9999)}).catch(function(){});var n={account_alias:this.getLocalAccountInfo().account_alias,page:1,page_size:999999};o.n.bind(this)(n).then(function(t){var e,a=t.data.data.list_address;a?(e=s.address).splice.apply(e,[0,99999].concat(r()(a))):s.address.splice(0,99999)})},data:function(){return{isSingleSign:!1,allAssetsLists:[],address:[],to_address:"",to_amount:"",params:{password:"",amount:"",asset_name:"",asset_id:"",receive_info:[]}}},methods:{issue:function(){var s=this,t=this.allAssetsLists.filter(function(t,e){return t.asset_id==s.params.asset_id});if(t[0]){this.params.asset_name=t[0].asset_name;var e=this.to_amount-0||0,a=[{to_address:this.to_address,to_amount:this.to_amount-0||0}],n=i()({},this.params,this.getLocalAccountInfo());n.amount=e,n.receive_info=a,this.isSingleSign?this.issueSingle(n):this.issueMutil(n)}else this.$message.error("请完善信息")},issueSingle:function(s){var t=this;o.D.bind(this)(s).then(function(s){var e=s.data;console.log(e,89888),"success"==e.status?(t.$message({type:"success",message:"提交成功"}),setTimeout(function(){t.$router.go(-1)},1500)):t.$message({type:"error",message:e.error})})},issueMutil:function(s){var t=this;o.B.bind(this)(s).then(function(s){var e=s.data;console.log(e,89888),"error"==e.status?(console.log(1),t.$message({type:"error",message:e.error})):t.createSignFile(e)})}}},u={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"outerWrap transferWrap"},[e("div",{staticClass:"commonTitle_one"},[e("span",{on:{click:function(t){return s.$router.go(-1)}}},[s._v("资产操作")]),s._v("/发行\n      ")]),s._v(" "),e("div",{staticClass:"transferInpWrap"},[e("div",{staticClass:"inpItemWrap"},[e("div",[e("span",[s._v("发行地址")]),s._v(" "),e("el-select",{attrs:{placeholder:"请选择"},model:{value:s.to_address,callback:function(t){s.to_address=t},expression:"to_address"}},s._l(s.address,function(s){return e("el-option",{key:s.address_id,attrs:{label:s.address_id,value:s.address_id}})}),1)],1)]),s._v(" "),e("div",{staticClass:"inpItemWrap"},[e("div",[e("span",[s._v("发行资产")]),s._v(" "),e("el-select",{attrs:{placeholder:"请选择"},model:{value:s.params.asset_id,callback:function(t){s.$set(s.params,"asset_id",t)},expression:"params.asset_id"}},s._l(s.allAssetsLists,function(s){return e("el-option",{key:s.value,attrs:{label:s.asset_name,value:s.asset_id}})}),1)],1)]),s._v(" "),e("div",{staticClass:"inpItemWrap"},[e("div",[e("span",[s._v("发行数量")]),s._v(" "),e("el-input",{attrs:{placeholder:"请输入要发行的资产数量"},model:{value:s.to_amount,callback:function(t){s.to_amount=t},expression:"to_amount"}})],1)]),s._v(" "),e("div",{staticClass:"inpItemWrap"},[e("div",[e("span",[s._v("密码")]),s._v(" "),e("el-input",{attrs:{placeholder:"请输入密码",autocomplete:"new-password",type:"password"},model:{value:s.params.password,callback:function(t){s.$set(s.params,"password",t)},expression:"params.password"}})],1)]),s._v(" "),e("div",{staticClass:"inpItemWrap"},[e("div",[e("span"),s._v(" "),e("span",{staticClass:"submit",on:{click:s.issue}},[s._v(s._s(s.isSingleSign?"提交交易":"生成签名文件"))])])])])])},staticRenderFns:[]},p=e("VU/8")(c,u,!1,null,null,null);t.default=p.exports}});
//# sourceMappingURL=30.10eaa8b82dbecfaf3f36.js.map