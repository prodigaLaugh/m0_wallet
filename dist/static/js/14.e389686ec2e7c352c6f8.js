webpackJsonp([14],{dAq1:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=a("Gu7T"),n=a.n(e),i=a("sZUK"),l=a("7+uW"),o=a("zL8q");l.default.use(o.Row),l.default.use(o.Col),l.default.use(o.Pagination),l.default.use(o.Dialog);var r={created:function(){var t=this.getLocalAccountInfo().account_id;this.params.account_id=t;var s=this.$route.query.navIndex?this.$route.query.navIndex-0:0;this.navIndex=s,this.params.is_issue=s,this.getLists()},data:function(){return{navIndex:0,lists:[],params:{account_id:"",is_issue:0,page:1,page_size:10,total:0},deleteAssetModalFlag:!1,delId:""}},methods:{pageChange:function(t){this.params.page=t,this.getLists()},getLists:function(){var t=this;new FormData;i.p.bind(this)(this.params).then(function(s){var a,e=s.data,i=e.data.total_item,l=0===t.navIndex?e.data.asset_unissue:e.data.asset_issue;l?((a=t.lists).splice.apply(a,[0,999].concat(n()(l))),t.params.total=i):(t.lists.splice(0,999),t.params.total=0)}).catch(function(){})},changeNav:function(t){this.navIndex=t,this.params.is_issue=t,this.params.page=1,this.$router.replace({path:"/main/createAssetIndex",query:{navIndex:t}}),this.getLists()},openModal:function(t){this.delId=t,this.deleteAssetModalFlag=!0},delAsset:function(){var t=this;i.f.bind(this)(this.delId).then(function(s){var a=s.data;"OK"==a?(t.$message({message:"删除成功",type:"success"}),t.deleteAssetModalFlag=!1,t.getLists()):t.$message({message:a,type:"error"}),console.log(a,122)}).catch(function(){})}}},c={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"outerWrap assetManagementIndexWrap"},[a("div",{staticClass:"commonTitle_one"},[t._v("创建资产")]),t._v(" "),a("div",{staticClass:"commonNavsWrap"},[a("span",{class:{active:0===t.navIndex},on:{click:function(s){return t.changeNav(0)}}},[t._v("未发行资产")]),t._v(" "),a("span",{class:{active:1===t.navIndex},on:{click:function(s){return t.changeNav(1)}}},[t._v("已发行资产")])]),t._v(" "),a("div",{staticClass:"commonTitle_two"},[t._v("\n      "+t._s(0===t.navIndex?"未发行资产":"已发行资产")+"\n      "),a("span",{on:{click:function(s){return t.$router.push("/main/createAsset")}}},[t._v("创建资产")])]),t._v(" "),a("div",{staticClass:"assetManagementIndexListsWrap"},[a("el-row",{staticClass:"assetManagementIndexListWrap tit"},[a("el-col",{attrs:{span:3}},[t._v("名称")]),t._v(" "),a("el-col",{attrs:{span:11}},[t._v("资产ID")]),t._v(" "),a("el-col",{attrs:{span:5}},[t._v("发行状态")]),t._v(" "),a("el-col",{attrs:{span:5}},[t._v("操作")])],1),t._v(" "),t._l(t.lists,function(s,e){return a("el-row",{key:s.id,staticClass:"assetManagementIndexListWrap"},[a("el-col",{attrs:{span:3}},[a("div",{staticClass:"green",on:{click:function(a){return t.$router.push({path:"/main/assetDetail",query:{id:s.id}})}}},[t._v("\n            "+t._s(s.asset_name)+"\n          ")])]),t._v(" "),a("el-col",{attrs:{span:11}},[t._v(t._s(s.asset_id))]),t._v(" "),a("el-col",{attrs:{span:5}},[t._v(t._s(0===t.navIndex?"未发行":"已发行"))]),t._v(" "),0===t.navIndex?a("el-col",{attrs:{span:5}},[a("span",{staticClass:"blue",on:{click:function(a){return t.$router.push({path:"/main/issue",query:{asset_id:s.asset_id,asset_name:s.asset_name}})}}},[t._v("发行")]),t._v(" "),a("span",{staticClass:"blue",on:{click:function(a){return t.openModal(s.id)}}},[t._v("删除")])]):a("el-col",{attrs:{span:4}},[a("span",{staticClass:"green",on:{click:function(a){return t.$router.push({path:"/main/assetDetail",query:{id:s.id}})}}},[t._v("详情")]),t._v(" "),a("span",{staticClass:"green",on:{click:function(a){return t.$router.push({path:"/main/issue",query:{asset_id:s.asset_id,asset_name:s.asset_name}})}}},[t._v("增发")]),t._v(" "),a("span",{staticStyle:{display:"none"}},[t._v("删除")])])],1)}),t._v(" "),t.lists.length?a("div",{staticClass:"paginationWrap"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.params.total,"page-size":t.params.page_size},on:{"current-change":t.pageChange}})],1):t._e(),t._v(" "),t.lists.length?t._e():a("el-row",[a("el-col",[a("div",{staticClass:"noresult"},[t._v("暂无数据")])])],1)],2),t._v(" "),a("el-dialog",{attrs:{title:"提示",visible:t.deleteAssetModalFlag,width:"30%"},on:{"update:visible":function(s){t.deleteAssetModalFlag=s}}},[a("span",[t._v("是否确认删除该资产?")]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(s){t.deleteAssetModalFlag=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.delAsset}},[t._v("确 定")])],1)])],1)},staticRenderFns:[]};var u=a("VU/8")(r,c,!1,function(t){a("mXOm")},null,null);s.default=u.exports},mXOm:function(t,s){}});
//# sourceMappingURL=14.e389686ec2e7c352c6f8.js.map