webpackJsonp([28],{"b3B/":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("7+uW"),r=e("zL8q"),l=e("sZUK");s.default.use(r.Row),s.default.use(r.Col),s.default.use(r.Input);var n={created:function(){var t=this,a=this.getLocalAccountInfo(),e=a.account_id,s=a.account_type;this.params.account_id=e,this.params.account_type=s;var r=this.$route.query.id,n=new FormData;n.append("id",r),l.p.bind(this)(n).then(function(a){var e=(e=a.data).data;t.param.asset_name=e.asset_name,t.param.parameters=e.Parameters})},data:function(){return{submitFlag:!0,param:{asset_name:"",parameters:[{key:"",value:""}]}}},methods:{delPara:function(t){console.log(t,111),t>0&&this.param.parameters.splice(t,1)},addPara:function(){this.param.parameters.push({key:"",value:""})},save:function(){var t=this;if(!this.param.asset_name)return this.$message({message:"请输入资产名称",type:"warning"}),!1;if(this.param.parameters.some(function(t,a){return!t.key||!t.value}))return this.$message({message:"请完善资产参数",type:"warning"}),!1;var a=this.param;if(!this.submitFlag)return!1;this.submitFlag=!1,l.h.bind(this)(a).then(function(a){var e=a.data;if("success"===e.status)t.$message({message:"编辑成功",type:"success"}),setTimeout(function(){t.$router.go(-1)},1500);else{var s=e.error||"编辑失败";t.$message({message:s,type:"warning"})}t.submitFlag=!0,console.log(e,111)}).catch(function(a){t.submitFlag=!0,console.log(a)})}}},i={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"outerWrap createAssetWrap"},[e("el-row",[e("el-col",{attrs:{lg:20,md:22}},[e("div",{staticClass:"commonTitle_one"},[t._v("\n\t\t\t\t资产管理\n\t\t\t\t"),e("span",[e("i",{staticClass:"el-icon-arrow-right"}),t._v(" "),e("span",[t._v("编辑资产")])])]),t._v(" "),e("div",{staticClass:"commonTitle_two"},[t._v("创建资产")]),t._v(" "),e("div",{staticClass:"transferInpWrap"},[e("el-row",{staticClass:"transferInpListsWrap"},[e("el-col",{attrs:{lg:24}},[e("div",{staticClass:"transferInpListLeft"},[t._v("名称")]),t._v(" "),e("el-input",{attrs:{placeholder:""},model:{value:t.param.asset_name,callback:function(a){t.$set(t.param,"asset_name",a)},expression:"param.asset_name"}})],1),t._v(" "),e("el-col",{attrs:{lg:24}},[e("div",{staticClass:"transferInpListLeft"},[t._v("资产参数")])])],1),t._v(" "),e("div",{staticClass:"paraWrap"},[e("el-row",{staticClass:"top"},[e("el-col",{attrs:{lg:11}},[t._v("\n\t\t\t\t\t\t\t参数名\n\t\t\t\t\t\t")]),t._v(" "),e("el-col",{attrs:{lg:11}},[t._v("\n\t\t\t\t\t\t\t参数值\n\t\t\t\t\t\t")])],1),t._v(" "),t._l(t.param.parameters,function(a,s){return e("el-row",{key:s,staticStyle:{"margin-bottom":"20px"}},[e("el-col",{attrs:{lg:10}},[e("el-input",{attrs:{placeholder:""},model:{value:a.key,callback:function(e){t.$set(a,"key",e)},expression:"item.key"}})],1),t._v(" "),e("el-col",{attrs:{lg:1}},[t._v(" ")]),t._v(" "),e("el-col",{attrs:{lg:10}},[e("el-input",{attrs:{placeholder:""},model:{value:a.value,callback:function(e){t.$set(a,"value",e)},expression:"item.value"}})],1),t._v(" "),e("el-col",{attrs:{lg:1}},[t._v(" ")]),t._v(" "),e("el-col",{staticClass:"btn",attrs:{lg:2}},[e("span",{on:{click:function(a){return t.delPara(s)}}},[t._v("删除")])])],1)}),t._v(" "),e("el-row",{staticClass:"addBtn"},[e("el-col",[e("span",{staticClass:"addBtnWrap",on:{click:t.addPara}},[t._v("+添加资产参数")])])],1)],2),t._v(" "),e("el-row",{staticStyle:{"margin-top":"20px"}},[e("el-col",{attrs:{lg:24}},[e("div",{staticClass:"createAssetBtn",on:{click:t.save}},[t._v("保存")])])],1)],1)])],1)],1)},staticRenderFns:[]},c=e("VU/8")(n,i,!1,null,null,null);a.default=c.exports}});
//# sourceMappingURL=28.17467ea4c2822e8b12bc.js.map