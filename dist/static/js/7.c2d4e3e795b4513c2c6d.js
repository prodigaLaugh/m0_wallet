webpackJsonp([7],{joJx:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("Gu7T"),l=e.n(s),i=e("mvHQ"),n=e.n(i),o=e("7+uW"),c=e("zL8q"),r=e("sZUK");o.default.use(c.Row),o.default.use(c.Col),o.default.use(c.Button),o.default.use(c.Input),o.default.use(c.Dialog),o.default.use(c.Pagination);var u={created:function(){this.getLists()},data:function(){return{submitFlag:!0,createFlag:!1,walletIndex:0,openDialogFlag:!1,value:"",params:{page:1,page_size:10,total:0},lists:[],deleteWalletModalFlag:!1,deleteParams:{}}},methods:{openDeleteModal:function(t,a){this.deleteWalletModalFlag=!0,this.deleteParams={account_alias:t.account_alias,index:a}},del:function(){var t=this,a={account_alias:this.deleteParams.account_alias};if(!this.submitFlag)return!1;this.submitFlag=!1,r.g.bind(this)(a).then(function(a){var e=a.data;"success"==e.status?(t.$message({type:"success",message:"删除成功"}),t.lists.splice(t.deleteParams.index,1),t.getLists(),t.deleteWalletModalFlag=!1):t.$message({type:"error",message:e.error||"载入失败"}),setTimeout(function(){t.submitFlag=!0},200),console.log(e)})},zairu:function(t){var a=this,e={account_alias:t.account_alias,pre_account_alias:this.getLocalAccountInfo().account_alias||""};if(!this.submitFlag)return!1;this.submitFlag=!1,r.C.bind(this)(e).then(function(e){var s=e.data;console.log(s,111),"success"==s.status?(a.$message({type:"success",message:"载入成功"}),localStorage.accountInfo=n()(t),a.$store.commit("changeAccountAlias",t.account_alias),a.getLists(),setTimeout(function(){a.$router.push("/main/assetWalletIndex"),a.submitFlag=!0},1e3)):a.$message({type:"error",message:s.error||"载入失败"})})},changeWalletType:function(t){this.walletIndex=t},createWallet:function(){var t=0===this.walletIndex?"/main/createWalletS":"/main/createWalletM";this.$router.push(t)},pageChange:function(t){this.params.page=t,this.getLists()},getLists:function(){var t=this;r.l.bind(this)(this.params).then(function(a){var e=a.data;if("success"==e.status){if(t.$store.commit("changeAccountAlias",""),e.data){var s,i=e.data.list_accounts,o=e.data.total_item;t.params.total=o,i.map(function(a,e){1==a.status&&(localStorage.accountInfo=n()(a),t.$store.commit("changeAccountAlias",a.account_alias))}),(s=t.lists).splice.apply(s,[0,999].concat(l()(i)))}}else t.lists.splice(0,999),t.params.total=0})}}},v={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"outerWrap accountIndexWrap"},[e("div",{staticClass:"commonTitle_one"},[t._v("钱包管理")]),t._v(" "),e("div",{staticClass:"selectAccountWrap"},[e("div",{staticClass:"commonTitle_two"},[t._v("\n        我的钱包\n        "),e("div",[e("span",{on:{click:function(a){t.createFlag=!0}}},[t._v("新建钱包")])])]),t._v(" "),e("div",{staticClass:"commonListsWrap"},t._l(t.lists,function(a,s){return e("div",{key:s,staticClass:"commonListWrap"},[e("div",{staticClass:"tit"},[t._v(t._s(a.account_alias)+"\n           "),0==a.status?e("div",{on:{click:function(e){return t.zairu(a)}}},[t._v("载入")]):e("div",{staticClass:"has"},[t._v("载入")])]),t._v(" "),e("div",{staticClass:"tags"},[e("span",[t._v(t._s(a.sign_key_num-0>1?"多签":"单签"))]),t._v(" "),e("div",[e("div",{on:{click:function(e){return t.$router.push({path:"/main/walletDetail",query:{id:a.account_alias}})}}},[t._v("详情")]),t._v(" "),e("div",{on:{click:function(e){return t.openDeleteModal(a,s)}}},[t._v("删除")])])]),t._v(" "),e("div",{staticClass:"relation"},[e("span",[t._v("关联密钥:")]),t._v(" "),e("div",t._l(a.xpubs,function(a,s){return e("div",{key:s},[t._v(t._s(a))])}),0)])])}),0),t._v(" "),t.lists.length?e("div",{staticClass:"paginationWrap"},[e("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.params.total,"page-size":t.params.page_size},on:{"current-change":t.pageChange}})],1):t._e(),t._v(" "),t.lists.length?t._e():e("div",{staticClass:"noresult"},[t._v("暂无数据")])]),t._v(" "),e("el-dialog",{attrs:{title:"提示",visible:t.deleteWalletModalFlag,width:"30%","before-close":t.handleClose},on:{"update:visible":function(a){t.deleteWalletModalFlag=a}}},[e("span",[t._v("是否确认删除钱包?")]),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(a){t.deleteWalletModalFlag=!1}}},[t._v("取 消")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:t.del}},[t._v("确 定")])],1)]),t._v(" "),e("el-dialog",{attrs:{title:"请输入账户密码",center:!0,visible:t.openDialogFlag,width:"40%"},on:{"update:visible":function(a){t.openDialogFlag=a}}},[e("div",{staticClass:"dialogContentWrap"},[e("div",{staticClass:"tips"},[t._v("⚠️请输入账户对应的密码，已确认身份")]),t._v(" "),e("el-input",{attrs:{placeholder:"输入密码"},model:{value:t.value,callback:function(a){t.value=a},expression:"value"}})],1),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(a){t.openDialogFlag=!1}}},[t._v("取 消")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:function(a){t.openDialogFlag=!1}}},[t._v("确 定")])],1)]),t._v(" "),e("el-dialog",{attrs:{title:"请输选择创建钱包的类型",center:!0,visible:t.createFlag,width:"40%"},on:{"update:visible":function(a){t.createFlag=a}}},[e("div",{staticClass:"selectWalletWrap"},[e("el-row",[e("el-col",{attrs:{md:10}},[e("div",{class:["contentWrap",{active:0===t.walletIndex}],on:{click:function(a){return t.changeWalletType(0)}}},[e("div",{staticClass:"title"},[t._v("单签钱包")]),t._v(" "),e("div",{staticClass:"content"},[t._v("单签钱包内的资产由您本人所有和支配，创建单签钱包需要关联一把密钥，一把密钥只能关联一个单签钱包。")])])]),t._v(" "),e("el-col",{attrs:{md:2}},[t._v(" ")]),t._v(" "),e("el-col",{attrs:{md:10}},[e("div",{class:["contentWrap",{active:1===t.walletIndex}],on:{click:function(a){return t.changeWalletType(1)}}},[e("div",{staticClass:"title"},[t._v("多签钱包")]),t._v(" "),e("div",{staticClass:"content"},[t._v("多签钱包内的资产由多方共同所有和支配，创建多签钱包需要关联一把密钥，一把密钥可关联多个多签钱包。")])])])],1)],1),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(a){t.createFlag=!1}}},[t._v("取 消")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:t.createWallet}},[t._v("确 定")])],1)])],1)},staticRenderFns:[]};var d=e("VU/8")(u,v,!1,function(t){e("n08g")},null,null);a.default=d.exports},n08g:function(t,a){}});
//# sourceMappingURL=7.c2d4e3e795b4513c2c6d.js.map