{"version":3,"sources":["webpack:///src/pages/assetManagement/issue.vue","webpack:///./src/pages/assetManagement/issue.vue?91d7","webpack:///./src/pages/assetManagement/issue.vue"],"names":["vue_esm","use","element_ui_common","assetManagement_issue","created","_this","this","isSingleSign","judgeIsSingleSign","query","$route","asset_id","address_id","params","to_address","account_id","getLocalAccountInfo","server","bind","then","_ref","_allAssetsLists","lists","data","asset_list","allAssetsLists","splice","apply","concat","toConsumableArray_default","catch","account_alias","page","page_size","_ref2","console","log","_address","list_address","address","to_amount","password","amount","asset_name","receive_info","methods","issue","_this2","list","filter","item","index","para","assign_default","issueSingle","issueMutil","$message","error","_this3","_ref3","status","type","message","setTimeout","$router","go","_this4","_ref4","createSignFile","pages_assetManagement_issue","render","_vm","_h","$createElement","_c","_self","staticClass","on","click","$event","_v","attrs","placeholder","model","value","callback","$$v","expression","_l","key","label","$set","autocomplete","_s","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/22.57393bf17fbc5f351707.js","sourcesContent":["<template>\n\t<div class=\"outerWrap transferWrap\">\n\n    <div class=\"commonTitle_one\">\n\n      <span @click=\"$router.go(-1)\">资产操作</span>/发行\n\n    </div>\n\n\n\n\n    <div class=\"transferInpWrap\">\n\n      <div class=\"inpItemWrap\">\n        <div>\n          <span>发行地址</span>\n          <el-select v-model=\"to_address\" placeholder=\"请选择\">\n          \t<el-option\n          \t  v-for=\"item in address\"\n          \t  :key=\"item.address_id\"\n          \t  :label=\"item.address_id\"\n          \t  :value=\"item.address_id\">\n          \t</el-option>\n            </el-select>\n        </div>\n      </div>\n\n      <div class=\"inpItemWrap\">\n        <div>\n          <span>发行资产</span>\n          <el-select v-model=\"params.asset_id\" placeholder=\"请选择\">\n          \t<el-option\n          \t\tv-for=\"item in allAssetsLists\"\n          \t\t:key=\"item.value\"\n          \t\t:label=\"item.asset_name\"\n          \t\t:value=\"item.asset_id\">\n          \t</el-option>\n          </el-select>\n        </div>\n      </div>\n\n      <div class=\"inpItemWrap\">\n        <div>\n          <span>发行数量</span>\n          <el-input v-model=\"to_amount\" placeholder=\"请输入要发行的资产数量\"></el-input>\n        </div>\n      </div>\n\n      <div class=\"inpItemWrap\">\n        <div>\n          <span>密码</span>\n          <el-input\n          \tv-model=\"params.password\"\n          \tplaceholder=\"请输入密码\"\n          \tautocomplete=\"new-password\"\n          \ttype=\"password\"></el-input>\n        </div>\n      </div>\n\n      <div class=\"inpItemWrap\"   >\n        <div>\n          <span></span>\n           <span class=\"submit\" @click=\"issue\">{{isSingleSign?'提交交易':'生成签名文件'}}</span>\n        </div>\n\n      </div>\n\n\n\t\t</div>\n\n\n\n\t</div>\n</template>\n\n<script>\n\timport { getAddressLists, getMyAssetLists, issueMultsign, issueSinglesign } from '@/util/server.js'\n\timport Vue from 'vue';\n\timport { Row, Col, Input, Select, Option } from 'element-ui';\n\n\tVue.use(Row);\n\tVue.use(Col);\n\tVue.use(Input);\n\tVue.use(Option);\n\tVue.use(Select);\n\n\n\texport default {\n\t\tcreated(){\n\t\t\tthis.isSingleSign = this.judgeIsSingleSign();\n\n\t\t\tvar query = this.$route.query;\n\t\t\tvar asset_id = query.asset_id;\n      var address_id = query.address_id;\n\t\t\tif(asset_id){\n\t\t\t\tthis.params.asset_id = asset_id;\n\t\t\t}\n      if(address_id){\n        this.to_address = address_id\n      }\n\n\n\n\n\t\t\tvar account_id = this.getLocalAccountInfo().account_id;\n\n\t\t\tgetMyAssetLists.bind(this)({account_id})\n\t\t\t\t.then(({data})=>{\n\t\t\t\t\tvar lists = data.data.asset_list;\n          if(lists){\n            this.allAssetsLists.splice(0,9999,...lists)\n          }else{\n            this.allAssetsLists.splice(0,9999)\n          }\n\t\t\t\t})\n\t\t\t\t.catch(()=>{\n\n\t\t\t\t})\n\t\t\tlet account_alias = this.getLocalAccountInfo().account_alias;\n\t\t\tvar params = {account_alias: account_alias,  page: 1,\n          page_size: 999999 }\n\n\t\t\tgetAddressLists.bind(this)(params)\n\t\t\t\t.then(({data})=>{\n          console.log(data,111)\n          const lists = data.data.list_address;\n\t\t\t\t\tif(lists){\n\t\t\t\t\t  this.address.splice(0,99999, ...lists) ;\n\t\t\t\t\t}else{\n\t\t\t\t\t  this.address.splice(0,99999) ;\n\t\t\t\t\t}\n\n\t\t\t\t})\n\t\t},\n\t\tdata(){\n\t\t\treturn {\n\t\t\t\tisSingleSign:false,//是否是单签\n\n\t\t\t\tallAssetsLists:[],\n\t\t\t\taddress:[],\n\n\t\t\t\tto_address:'',\n\t\t\t\tto_amount:'',\n\n\t\t\t\tparams:{\n\t\t\t\t\tpassword:\"\",\n\t\t\t\t\tamount:'',\n\t\t\t\t\tasset_name:\"\",\n\t\t\t\t\tasset_id:\"\",\n\t\t\t\t\treceive_info:[]\n\t\t\t\t},\n\n\n\t\t\t}\n\t\t},\n\t\tmethods:{\n\t\t\tissue(){\n\n        if(!this.to_address){\n          this.$message.error('请选择发行地址')\n          return;\n        }else if(!this.params.asset_id){\n          this.$message.error('请选择发行资产')\n          return\n        }else if(!this.to_amount){\n          this.$message.error('请输入发行数量')\n          return\n        }else if(!this.params.password){\n          this.$message.error('请输入密码')\n          return\n        }\n\n\t\t\t\tvar list = this.allAssetsLists.filter((item,index)=>{\n\t\t\t\t\treturn item.asset_id ==this.params.asset_id\n\t\t\t\t})\n\n\n\t\t\t\tthis.params.asset_name = list[0].asset_name;\n\t\t\t\tvar amount = this.to_amount-0||0;\n\t\t\t\tvar receive_info = [{\n\t\t\t\t\t\tto_address:this.to_address,\n\t\t\t\t\t\tto_amount:this.to_amount-0||0\n\t\t\t\t\t}]\n\n\t\t\t\tlet para = Object.assign({},this.params,this.getLocalAccountInfo());\n\t\t\t\tpara.amount = amount;\n\t\t\t\tpara.receive_info = receive_info;\n\n\t\t\t\tif(this.isSingleSign){\n\t\t\t\t\tthis.issueSingle(para)\n\t\t\t\t}else{\n\t\t\t\t\tthis.issueMutil(para);\n\t\t\t\t}\n\n\n\n\t\t\t},\n\t\t\tissueSingle(para){\n\t\t\t\tissueSinglesign.bind(this)(para)\n\t\t\t\t\t.then(({data})=>{\n\t\t\t\t\t\tconsole.log(data,89888)\n\t\t\t\t\t\tif(data.status=='success'){\n\t\t\t\t\t\t\tthis.$message({\n\t\t\t\t\t\t\t\ttype:'success',\n\t\t\t\t\t\t\t\tmessage:'提交成功'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\tthis.$router.go(-1);\n\t\t\t\t\t\t\t},1500)\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.$message({\n\t\t\t\t\t\t\t\ttype:'error',\n\t\t\t\t\t\t\t\tmessage:data.error\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t},\n\t\t\tissueMutil(para){\n\t\t\t\tissueMultsign.bind(this)(para)\n\t\t\t\t\t.then(({data})=>{\n\t\t\t\t\t\tconsole.log(data,89888)\n\t\t\t\t\t\tif(data.status=='error'){\n\t\t\t\t\t\t\tconsole.log(1)\n\n\t\t\t\t\t\t\tthis.$message({\n\t\t\t\t\t\t\t\ttype:'error',\n\t\t\t\t\t\t\t\tmessage:data.error\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t this.createSignFile(data)\n\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t}\n\n\t\t},\n\t}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/assetManagement/issue.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"outerWrap transferWrap\"},[_c('div',{staticClass:\"commonTitle_one\"},[_c('span',{on:{\"click\":function($event){return _vm.$router.go(-1)}}},[_vm._v(\"资产操作\")]),_vm._v(\"/发行\\n\\n    \")]),_vm._v(\" \"),_c('div',{staticClass:\"transferInpWrap\"},[_c('div',{staticClass:\"inpItemWrap\"},[_c('div',[_c('span',[_vm._v(\"发行地址\")]),_vm._v(\" \"),_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.to_address),callback:function ($$v) {_vm.to_address=$$v},expression:\"to_address\"}},_vm._l((_vm.address),function(item){return _c('el-option',{key:item.address_id,attrs:{\"label\":item.address_id,\"value\":item.address_id}})}),1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"inpItemWrap\"},[_c('div',[_c('span',[_vm._v(\"发行资产\")]),_vm._v(\" \"),_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.params.asset_id),callback:function ($$v) {_vm.$set(_vm.params, \"asset_id\", $$v)},expression:\"params.asset_id\"}},_vm._l((_vm.allAssetsLists),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.asset_name,\"value\":item.asset_id}})}),1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"inpItemWrap\"},[_c('div',[_c('span',[_vm._v(\"发行数量\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"placeholder\":\"请输入要发行的资产数量\"},model:{value:(_vm.to_amount),callback:function ($$v) {_vm.to_amount=$$v},expression:\"to_amount\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"inpItemWrap\"},[_c('div',[_c('span',[_vm._v(\"密码\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"placeholder\":\"请输入密码\",\"autocomplete\":\"new-password\",\"type\":\"password\"},model:{value:(_vm.params.password),callback:function ($$v) {_vm.$set(_vm.params, \"password\", $$v)},expression:\"params.password\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"inpItemWrap\"},[_c('div',[_c('span'),_vm._v(\" \"),_c('span',{staticClass:\"submit\",on:{\"click\":_vm.issue}},[_vm._v(_vm._s(_vm.isSingleSign?'提交交易':'生成签名文件'))])])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-bf917ef0\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/assetManagement/issue.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./issue.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./issue.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-bf917ef0\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./issue.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/assetManagement/issue.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}