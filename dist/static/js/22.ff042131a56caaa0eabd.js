webpackJsonp([22],{bfQr:function(s,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=t("woOf"),i=t.n(a),n=t("Gu7T"),r=t.n(n),o=t("sZUK"),l=t("7+uW"),d=t("zL8q");l.default.use(d.Row),l.default.use(d.Col),l.default.use(d.Input),l.default.use(d.Option),l.default.use(d.Select);var c={created:function(){var s=this;this.isSingleSign=this.judgeIsSingleSign();var e=this.$route.query,t=e.asset_id,a=e.address_id;t&&(this.params.asset_id=t),a&&(this.to_address=a);var i=this.getLocalAccountInfo().account_id;o.x.bind(this)({account_id:i}).then(function(e){var t,a=e.data.data.asset_list;a?(t=s.allAssetsLists).splice.apply(t,[0,9999].concat(r()(a))):s.allAssetsLists.splice(0,9999)}).catch(function(){});var n={account_alias:this.getLocalAccountInfo().account_alias,page:1,page_size:999999};o.m.bind(this)(n).then(function(e){var t=e.data;console.log(t,111);var a,i=t.data.list_address;i?(a=s.address).splice.apply(a,[0,99999].concat(r()(i))):s.address.splice(0,99999)})},data:function(){return{isSingleSign:!1,allAssetsLists:[],address:[],to_address:"",to_amount:"",params:{password:"",amount:"",asset_name:"",asset_id:"",receive_info:[]}}},methods:{issue:function(){var s=this;if(this.to_address)if(this.params.asset_id)if(this.to_amount)if(this.params.password){var e=this.allAssetsLists.filter(function(e,t){return e.asset_id==s.params.asset_id});this.params.asset_name=e[0].asset_name;var t=this.to_amount-0||0,a=[{to_address:this.to_address,to_amount:this.to_amount-0||0}],n=i()({},this.params,this.getLocalAccountInfo());n.amount=t,n.receive_info=a,this.isSingleSign?this.issueSingle(n):this.issueMutil(n)}else this.$message.error("请输入密码");else this.$message.error("请输入发行数量");else this.$message.error("请选择发行资产");else this.$message.error("请选择发行地址")},issueSingle:function(s){var e=this;o.B.bind(this)(s).then(function(s){var t=s.data;console.log(t,89888),"success"==t.status?(e.$message({type:"success",message:"提交成功"}),setTimeout(function(){e.$router.go(-1)},1500)):e.$message({type:"error",message:t.error})})},issueMutil:function(s){var e=this;o.z.bind(this)(s).then(function(s){var t=s.data;console.log(t,89888),"error"==t.status?(console.log(1),e.$message({type:"error",message:t.error})):e.createSignFile(t)})}}},u={render:function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"outerWrap transferWrap"},[t("div",{staticClass:"commonTitle_one"},[t("span",{on:{click:function(e){return s.$router.go(-1)}}},[s._v("资产操作")]),s._v("/发行\n\n    ")]),s._v(" "),t("div",{staticClass:"transferInpWrap"},[t("div",{staticClass:"inpItemWrap"},[t("div",[t("span",[s._v("发行地址")]),s._v(" "),t("el-select",{attrs:{placeholder:"请选择"},model:{value:s.to_address,callback:function(e){s.to_address=e},expression:"to_address"}},s._l(s.address,function(s){return t("el-option",{key:s.address_id,attrs:{label:s.address_id,value:s.address_id}})}),1)],1)]),s._v(" "),t("div",{staticClass:"inpItemWrap"},[t("div",[t("span",[s._v("发行资产")]),s._v(" "),t("el-select",{attrs:{placeholder:"请选择"},model:{value:s.params.asset_id,callback:function(e){s.$set(s.params,"asset_id",e)},expression:"params.asset_id"}},s._l(s.allAssetsLists,function(s){return t("el-option",{key:s.value,attrs:{label:s.asset_name,value:s.asset_id}})}),1)],1)]),s._v(" "),t("div",{staticClass:"inpItemWrap"},[t("div",[t("span",[s._v("发行数量")]),s._v(" "),t("el-input",{attrs:{placeholder:"请输入要发行的资产数量"},model:{value:s.to_amount,callback:function(e){s.to_amount=e},expression:"to_amount"}})],1)]),s._v(" "),t("div",{staticClass:"inpItemWrap"},[t("div",[t("span",[s._v("密码")]),s._v(" "),t("el-input",{attrs:{placeholder:"请输入密码",autocomplete:"new-password",type:"password"},model:{value:s.params.password,callback:function(e){s.$set(s.params,"password",e)},expression:"params.password"}})],1)]),s._v(" "),t("div",{staticClass:"inpItemWrap"},[t("div",[t("span"),s._v(" "),t("span",{staticClass:"submit",on:{click:s.issue}},[s._v(s._s(s.isSingleSign?"提交交易":"生成签名文件"))])])])])])},staticRenderFns:[]},p=t("VU/8")(c,u,!1,null,null,null);e.default=p.exports}});
//# sourceMappingURL=22.ff042131a56caaa0eabd.js.map